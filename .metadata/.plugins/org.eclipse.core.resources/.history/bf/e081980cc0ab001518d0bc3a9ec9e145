package com.example.testreference;

import java.util.Iterator;
import java.util.Map;
import java.util.Set;
import java.util.WeakHashMap;

public class TestWeakHashMap {
	
	public static void main(String[] args) {
		
		WeakHashMap<String,String> map = new WeakHashMap<String,String>();
		for (int i = 0; i < 10; i++) {
			if(i < 5)
				map.put(i + "", i + "");
			else
				map.put(new String(i + ""), i + "");
		}
		printfMap(map);
		System.gc();
		System.runFinalization();
		printfMap(map);

	}
	
	public static void printfMap(Map<String,String> map){

		Set<String> set = map.keySet();
		Iterator<String> it = set.iterator();
		while(it.hasNext()){
			System.out.println("< " + it.next() + " , " + " >");
		}
	}

}
